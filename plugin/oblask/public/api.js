(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){

SupCore.system.api.registerPlugin("typescript", "Oblask", {
    code: "namespace Oblask {\n  export function test() {\n    console.log(\"Hello\");\n  }\n}\nwindow.Oblask = Oblask;",
    defs: "declare namespace Oblask {\n  function test()\n}\n"
});
SupCore.system.api.registerPlugin("typescript", "Oblask.Audio", {
    code: "namespace Oblask {\r\n  export namespace Audio {\r\n    export class Playlist {\r\n  \r\n      private paths: string[];\r\n      private backup: any[];\r\n    \r\n      private sounds: Sup.Audio.SoundPlayer[];\r\n      private timer = 0;\r\n      private actions = [\"play\", \"playAll\", \"pause\", \"stop\", \"add\", \"replace\", \"remove\", \"removeAll\"];\r\n      private multiple: boolean;\r\n      private canLoop: boolean;\r\n    \r\n\r\n      constructor(sounds: string[], multiple?: boolean) {\r\n        this.paths = sounds;\r\n        this.sounds = [];\r\n        \r\n        this.multiple = multiple || true;\r\n        this.canLoop = true;\r\n        \r\n        //let exist = this.checkExistSound();\r\n        \r\n        for(let path in this.paths) {\r\n          this.sounds.push(new Sup.Audio.SoundPlayer(this.paths[path]));\r\n        }\r\n\r\n        Sup.log(this.sounds);\r\n      }\r\n\r\n      play(index: any, loop?: boolean) {\r\n        if(typeof index == \"number\") {\r\n          for(let sound in this.sounds) {\r\n            if(!loop) {\r\n              if(sound != index) {\r\n                if(this.sounds[sound] != null) this.sounds[sound].stop();\r\n                else Sup.log(\"Index error: index is empty\");\r\n              }\r\n            }\r\n            else {\r\n              if(this.sounds[sound] != null) this.sounds[sound].stop();\r\n              else Sup.log(\"Index error: index is empty\");\r\n            }\r\n          }\r\n          if(this.sounds[index] != null) this.sounds[index].play();\r\n          else Sup.log(\"Index error: index is empty\");\r\n          \r\n          this.setLoop(index);\r\n        }\r\n        else {\r\n          for(let sound in this.sounds) {\r\n            for(let i in index) {\r\n              if(!loop) {\r\n                if(sound != index[i]) {\r\n                  if(this.sounds[index[i]] != null) this.sounds[index[i]].stop();\r\n                  else Sup.log(\"Index error: index is empty\");\r\n                }\r\n              }\r\n              else {\r\n                if(this.sounds[index[i]] != null) this.sounds[index[i]].stop();\r\n                else Sup.log(\"Index error: index is empty\");\r\n              }\r\n            }\r\n          }\r\n          for(let i in index) {\r\n            Sup.log(index[i]);\r\n            if(this.sounds[index[i]] != null) this.sounds[index[i]].play();\r\n            else Sup.log(\"Index error: index is empty\");\r\n          }\r\n        }\r\n      }\r\n    \r\n      playAll() {\r\n        let list = [];\r\n        for(let sound in this.sounds) if(this.sounds[sound] != null) list.push(sound);\r\n        this.play(list, true);\r\n      }\r\n\r\n      stop(index?: number) {\r\n        let i = index;\r\n        \r\n        if(!this.isPlaying()) {\r\n          return;\r\n        }\r\n           \r\n        if(i != null) {\r\n          if(this.sounds[i] != null) this.sounds[index].stop();\r\n          else Sup.log(\"Index error: index is empty\");\r\n        }\r\n        else {\r\n          for(let sound in this.sounds) {\r\n            if(this.sounds[sound] != null) this.sounds[sound].stop();\r\n            else Sup.log(\"Index error: index is empty\");\r\n          }\r\n        }\r\n      }\r\n\r\n      pause(index?: number) {\r\n        let i = index;\r\n        if(i != null) {\r\n          if(this.sounds[i] != null) this.sounds[index].pause();\r\n          else Sup.log(\"Index error: index is empty\");\r\n        }\r\n        else {\r\n          for(let sound in this.sounds) {\r\n            if(this.sounds[sound] != null) this.sounds[sound].pause();\r\n            else Sup.log(\"Index error: index is empty\");\r\n          }\r\n        }\r\n      }\r\n\r\n      add(sound: string) {\r\n        for(let path in this.paths) {\r\n          if(this.paths[path] === sound) {\r\n            \r\n            Sup.log(\"Warning: this sound already exists in this playlist\");\r\n          }\r\n        }\r\n        this.paths.push(sound);\r\n        this.sounds.push(new Sup.Audio.SoundPlayer(sound));\r\n      }\r\n    \r\n      replace(sound: string, index: number) {\r\n        if(this.sounds[index] != null) {\r\n          for(let s in this.sounds) {\r\n            if(this.paths[s] === sound) {\r\n              Sup.log(\"Warning: this sound already exists in this playlist\");\r\n            }\r\n          }\r\n          this.paths[index] = sound;\r\n          this.sounds[index] = new Sup.Audio.SoundPlayer(sound);\r\n        }\r\n        else {\r\n          for(let i = 0; i <= index; i++) {\r\n            if(i < index) {\r\n              if(this.sounds[i] == null) {\r\n                this.sounds[index] = null;\r\n              }\r\n            }\r\n            else if(i == index) {\r\n              this.paths[index] = sound;\r\n              this.sounds[index] = new Sup.Audio.SoundPlayer(sound);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      remove(index: string) {\r\n        delete this.sounds[index];\r\n      }\r\n\r\n      isPlaying(index?: any) {\r\n        if(index != null) {\r\n          if(typeof index == \"number\") {\r\n            if(this.sounds[index].isPlaying()) return true;\r\n            else return false;\r\n          }\r\n          else {\r\n            for(let s in this.sounds) {\r\n              if(this.sounds[s] === index) {\r\n                if(this.sounds[s].isPlaying()) return true;\r\n                else return false;\r\n              }\r\n            }\r\n          }\r\n        }\r\n        else {\r\n          for(let sound in this.sounds) {\r\n            if(this.sounds[sound].isPlaying()) return true;\r\n          }\r\n          return false;\r\n        }\r\n      }\r\n                \r\n      setTimer(time: number, loop: boolean, action: string, ...args) {\r\n        if(this.canLoop) this.timer++;\r\n        \r\n        if(this.timer >= time) {\r\n          this.timer = 0;\r\n          if(this.actions.indexOf(action) <= -1) {\r\n            Sup.log(\"this action doesn't exist \\\"\"+action+\"\\\"\");//, \"Action Error\", true);\r\n          }\r\n          \r\n          if(!loop) this.canLoop = false;\r\n          \r\n          for(let act in this.actions) {\r\n            if(this.actions[act] === action) {\r\n              this[action](args[0]);\r\n            }\r\n            \r\n          }\r\n        }\r\n      }\r\n    \r\n      replay(index: number, timer?: number) {\r\n        if(this.isPlaying(index)) {\r\n          this.timer+=1/60;\r\n          \r\n          if(this.timer >= timer) {\r\n            this.stop(index);\r\n            this.play(index, true);\r\n            \r\n            this.timer = 0;\r\n          }\r\n        }\r\n        else {\r\n          if(timer == null) {\r\n            this.play(index, true);\r\n          }\r\n          else {\r\n            this.play(index, true);\r\n            \r\n            this.timer+=1/60;\r\n            if(this.timer >= timer) {\r\n              this.stop(index);\r\n              this.play(index, true);\r\n              \r\n              this.timer = 0;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n      setVolume(value: number, index?: number) {\r\n        if(!index) {\r\n          let volumes = [];\r\n          for(let sound in this.sounds) {\r\n            this.sounds[sound].setVolume(value);\r\n          }\r\n        }\r\n        else {\r\n          this.sounds[index].setVolume(value);\r\n        }\r\n      }\r\n    \r\n      getVolume(index?: number) {\r\n        if(!index) {\r\n          let volumes = [];\r\n          for(let sound in this.sounds) {\r\n            volumes.push(this.sounds[sound].getVolume());\r\n          }\r\n        }\r\n        else {\r\n          return this.sounds[index].getVolume();\r\n        }\r\n      }\r\n    \r\n      setPan(value: number, index?: number) {\r\n        if(!index) {\r\n          for(let sound in this.sounds) {\r\n            this.sounds[sound].setPan(value);\r\n          }\r\n        }\r\n        else {\r\n          this.sounds[index].setPan(value);\r\n        }\r\n      }\r\n    \r\n      getPan(index?: number) {\r\n        if(!index) {\r\n          let panes = [];\r\n          for(let sound in this.sounds) {\r\n            panes.push(this.sounds[sound].getPan());\r\n          }\r\n        }\r\n        else {\r\n          return this.sounds[index].getPan();\r\n        }\r\n      }\r\n    \r\n      setPitch(value: number, index?: number) {\r\n        if(!index) {\r\n          for(let sound in this.sounds) {\r\n            this.sounds[sound].setPitch(value);\r\n          }\r\n        }\r\n        else {\r\n          this.sounds[index].setPitch(value);\r\n        }\r\n      }\r\n    \r\n      getPitch(index?: number) {\r\n        if(!index) {\r\n          let pitches = [];\r\n          for(let sound in this.sounds) {\r\n            pitches.push(this.sounds[sound].getPitch());\r\n          }\r\n        }\r\n        else {\r\n          return this.sounds[index].getPitch();\r\n        }\r\n      }\r\n      \r\n      setLoop(value: boolean, index?: number) {\r\n        if(!index) {\r\n          for(let sound in this.sounds) {\r\n            this.sounds[sound].setLoop(value);\r\n          }\r\n        }\r\n        else {\r\n          this.sounds[index].setLoop(value);\r\n        }\r\n      }\r\n      \r\n      getState(index?: number): Sup.Audio.SoundPlayer.State | Sup.Audio.SoundPlayer.State[] {\r\n        if(!index) {\r\n          let states = [];\r\n          for(let sound in this.sounds) {\r\n            states.push(this.sounds[sound].getState());\r\n          }\r\n          return states;\r\n        }\r\n        else {\r\n          return this.sounds[index].getPitch();\r\n        }\r\n      }\r\n    \r\n      getPath(index?: number): string | string[] {\r\n        if(index == null) {\r\n          return this.paths;\r\n        }\r\n        else {\r\n          return this.paths[index];\r\n        }\r\n      }\r\n  \r\n      getMultiple() {\r\n        return this.multiple;\r\n      }\r\n  \r\n      disableMultiple() {\r\n        this.multiple = false;\r\n        this.format();\r\n      }\r\n  \r\n      enableMultiple(restore?: boolean) {\r\n        this.multiple = true;\r\n                           \r\n        if(restore) {\r\n          this.paths = this.backup[\"paths\"];\r\n          this.sounds = this.backup[\"sounds\"];\r\n        }\r\n      }\r\n      \r\n      private format() {\r\n        this.backup[\"paths\"] = this.paths;\r\n        this.backup[\"sounds\"] = this.sounds;\r\n                           \r\n        for(let sound in this.paths) {\r\n          let index = this.getIndex(this.paths[sound]);\r\n          if(typeof index === \"string\") {\r\n            continue;\r\n          }\r\n          else {\r\n            let increment = 0;\r\n            for(let i = index.length-1; i >= 0; i++) {\r\n              if(increment > index.length-1) {\r\n                this.paths.splice(i, 1);\r\n                this.sounds.splice(i, 1);\r\n              }\r\n              increment++;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    \r\n      getIndex(sound : string) {\r\n        let index = [];\r\n\r\n        for(let s in this.sounds) {\r\n          if(this.paths[s] === sound) {\r\n            index.push(+s);\r\n          }\r\n        }\r\n        \r\n        if(index.length == 1) {\r\n          return index[0];\r\n        }\r\n        return index;\r\n      }\r\n    \r\n      getSounds() {\r\n        return this.sounds;\r\n      }\r\n    \r\n      /*private checkExistSound() {\r\n        var index = [];\r\n        for(var sound in this.paths) {\r\n          if(!Sup.get(this.paths[sound])) {\r\n            Sup.log(\"Error: this sound doesn't exist\");\r\n            this.sounds[sound] == null;\r\n            index.push(sound);\r\n          }\r\n        }\r\n        return index;\r\n      }*/\r\n    \r\n      checkDouble() {\r\n        let double = [];\r\n        for(let path in this.paths) {\r\n          let index = this.getIndex(this.paths[path]);\r\n          \r\n          if(typeof index !== \"number\") {\r\n            let i = index.toString();\r\n            if(double.indexOf(i) == -1) double.push(i);\r\n          }\r\n        }\r\n        \r\n        for(let i in double) {\r\n          double[i] = JSON.parse(\"[\"+double[i]+\"]\");\r\n        }\r\n        \r\n        return double;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n",
    defs: "declare namespace Oblask {\r\n  namespace Audio {\r\n    class Playlist {\r\n      constructor(sounds: string[], multiple?: boolean);\r\n      \r\n      play(index: any, loop?: boolean);\r\n      pause(index?: number);\r\n      stop(index?: number);\r\n      playAll();\r\n      replay(index: number, timer?: number);\r\n\r\n      add(sound: string);\r\n      replace(sound: string, index: number);\r\n      remove(index: number);\r\n      removeAll();\r\n\r\n      isPlaying(index?: string);\r\n      getIndex(sound: string);\r\n\r\n      setVolume(value: number, index?: number);\r\n      getVolume(index?: number);\r\n      setPan(value: number, index?: number);\r\n      getPan(index?: number);\r\n      setPitch(value: number, index?: number);\r\n      getPitch(index?: number);\r\n      setLoop(value: boolean, index?: number);\r\n      getPath(index?: number): string | string[];\r\n      getState(index?: number): Sup.Audio.SoundPlayer.State | Sup.Audio.SoundPlayer.State[];\r\n      getSounds();\r\n      \r\n      getMultiple();\r\n      disableMultiple();\r\n      enableMultiple();\r\n      checkDouble();\r\n    }\r\n  }\r\n}\r\n"
});
SupCore.system.api.registerPlugin("typescript", "Oblask.Interface", {
    code: "namespace Oblask {\r\n  export namespace Interface {\r\n    export class Button {\r\n\r\n      private isHover: boolean;\r\n      private method: string;\r\n\r\n      private actions: any[];\r\n      private callback: Function;\r\n\r\n      private ray: Sup.Math.Ray;\r\n      private button: Sup.Actor;\r\n      private renderer: Sup.SpriteRenderer;\r\n\r\n      constructor(actor: string, actions: any[], callback?: Function, method?: string) {\r\n        this.button = Sup.getActor(actor);\r\n        this.renderer = this.button.spriteRenderer;\r\n        this.callback = callback;\r\n        this.actions = actions;\r\n        this.method = method;\r\n\r\n        this.isHover = false;\r\n\r\n        this.ray = new Sup.Math.Ray();\r\n        this.ray.setOrigin(0, 1, 2);\r\n        this.ray.setDirection(0, 0, 1);\r\n\r\n        this.action(2);\r\n      }\r\n\r\n      update(camera: Sup.Camera){\r\n        this.ray.setFromCamera(camera, Sup.Input.getMousePosition());\r\n\r\n        if(this.ray.intersectActor(this.button, false).length > 0) {\r\n          if(!this.isHover) {\r\n            this.isHover = true;\r\n            this.action(0);\r\n          }\r\n          if(this.method != null) {\r\n            if(+this.method != null) {\r\n              this.mouse(+this.method);\r\n            }\r\n            else {\r\n              this.key(this.method);\r\n            }\r\n          }\r\n          else {\r\n            this.mouse(0);\r\n          }\r\n        }\r\n        else {\r\n          if(this.isHover) {\r\n            this.isHover = false;\r\n            this.action(2);\r\n          }\r\n        }\r\n      }\r\n\r\n      private key(key: string) {\r\n        if(Sup.Input.wasKeyJustPressed(key)) {\r\n          this.action(1);\r\n          this.callback();\r\n        }\r\n        else if(Sup.Input.wasKeyJustReleased(key)) {\r\n          this.action(0);\r\n        }\r\n      }\r\n\r\n      private mouse(index: number) {\r\n        if(Sup.Input.wasMouseButtonJustPressed(index)) {\r\n          this.action(1);\r\n          this.callback();\r\n        }\r\n        else if(Sup.Input.wasMouseButtonJustReleased(index)) {\r\n          this.action(0);\r\n        }\r\n      }\r\n\r\n      private action(index: number) {\r\n        if(this.actions[index] instanceof Sup.Sprite) {\r\n          this.button.spriteRenderer.setSprite(this.actions[index]);\r\n        }\r\n        else if(typeof this.actions[index] == \"number\") {\r\n          this.button.spriteRenderer.setOpacity(this.actions[index]);\r\n        }\r\n      }\r\n\r\n      setText(text: string) {\r\n        this.button.getChild(\"Text\").textRenderer.setText(text);\r\n      }\r\n\r\n      getHover() {\r\n        return this.isHover;\r\n      }\r\n\r\n      setRay(ray: Sup.Math.Ray) {\r\n        this.ray = ray;\r\n      }\r\n\r\n      getRay() {\r\n        return this.ray;\r\n      }\r\n\r\n      setCallback(callback: Function) {\r\n        this.callback = callback;\r\n      }\r\n\r\n      getCallback() {\r\n        return this.callback;\r\n      }\r\n\r\n      setMethod(method: string) {\r\n        this.method = method;\r\n      }\r\n\r\n      getMethod() {\r\n        return this.method;\r\n      }\r\n\r\n      setButton(name: string) {\r\n        this.button = Sup.getActor(name);\r\n      }\r\n\r\n      getButton() {\r\n        return this.button;\r\n      }\r\n\r\n      setActions(actions: any[]) {\r\n        this.actions = actions;\r\n      }\r\n\r\n      getActions() {\r\n        return this.actions;\r\n      }\r\n    }\r\n  \r\n    export class ButtonPackage {\r\n  \r\n      private buttons: Button[];\r\n      private actors: Sup.Actor[];\r\n      private callbacks: Function[];\r\n\r\n      private actions: any[];\r\n      private methods: string[];\r\n\r\n      constructor(buttons: Button[]) {\r\n        this.buttons = [];\r\n        this.actors = [];\r\n        this.actions = [];\r\n        this.callbacks = [];\r\n        this.methods = [];\r\n        \r\n        for(let button in buttons) {\r\n          this.buttons[this.buttons.length] = buttons[button];\r\n          this.actors[this.actors.length] = buttons[button].getButton();\r\n          this.actions[this.actions.length] = buttons[button].getActions();\r\n          this.callbacks[this.callbacks.length] = buttons[button].getCallback();\r\n          this.methods[this.methods.length] = buttons[button].getMethod();\r\n        }\r\n      }\r\n\r\n      update(camera: Sup.Camera) {\r\n        for(let i = 0; i < this.actors.length; i++) {\r\n          this.buttons[i].update(camera); \r\n        }\r\n      }\r\n\r\n      add(button: Button) {\r\n        this.buttons.push(button);\r\n        this.actors.push(button.getButton());\r\n        this.actions.push(button.getActions());\r\n        this.callbacks.push(button.getCallback());\r\n        this.methods.push(button.getMethod());\r\n      }\r\n\r\n      addMultiples(buttons: Button[]) {\r\n        for(let button in buttons) {\r\n          this.buttons.push(buttons[button]);\r\n          this.actors.push(buttons[button].getButton());\r\n          this.actions.push(buttons[button].getActions());\r\n          this.callbacks.push(buttons[button].getCallback());\r\n          this.methods.push(buttons[button].getMethod());\r\n        }\r\n      }\r\n\r\n      remove(index: number) {\r\n        delete this.buttons[index], this.actors[index], this.actions[index], this.callbacks[index], this.methods[index];\r\n      }\r\n\r\n      removeAll() {\r\n        for(let button in this.buttons) {\r\n          delete this.buttons[button], this.actors[button], this.actions[button], this.callbacks[button], this.methods[button];\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n",
    defs: "declare namespace Oblask {\r\n  namespace Interface {\r\n    class Button{\r\n      constructor(actor: string, actions: any[], callback?: Function, method?: string);\r\n      \r\n      update(camera: Sup.Camera);\r\n      \r\n      private key(key: string);\r\n      private mouse(index: string);\r\n      private action(index: number);\r\n      \r\n      setText(text: string); //If your actor has a child named \"Text\" and which is a textRenderer.\r\n      getHover();\r\n      setRay(ray:Sup.Math.Ray);\r\n      getRay(): Sup.Math.Ray;\r\n      setCallback(callback: Function);\r\n      getCallback(): Function;\r\n      setMethod(method: string);\r\n      getMethod(): string;\r\n      setButton(name: string);\r\n      getButton(): Sup.Actor;\r\n      setActions(actions: any[]);\r\n      getActions(): any[];\r\n    }\r\n    \r\n    class ButtonPackage {\r\n      constructor(buttons?: Button[]);\r\n      constructor(actors?: Sup.Actor[], actions?: any[], callbacks?: Function[], methods?: string[]);\r\n      \r\n      update(camera: Sup.Camera);\r\n      \r\n      add(button: Button);\r\n      addList(buttons: Button[]);\r\n      remove(index: number);\r\n      removeAll();\r\n    }\r\n  }\r\n}\r\n"
});

},{}]},{},[1]);
